{% extends 'core/base.html' %} 
{% block title %}Faktur{% endblock %} 
{% block content %}
<div class="pb-6">

  <div class="col-span-1 flex items-center justify-center">
    <form method="get" action="{% url 'faktur:items' %}" class="text-center">
      <input name="query" class="w-full py-2 px-4 border rounded-lg search-input" type="text" value="{{ query }}" placeholder="Find what you want..">
      <button class="ml-2 py-2 px-4 text-lg bg-teal-500 text-white rounded-lg">Search</button>
      <a href="{% url 'faktur:items' %}" class="ml-2 py-2 px-4 text-lg bg-yellow-500 text-white rounded-lg reset-button">Reset</a>
      {% comment %} <a href="{% url 'faktur:download_items' %}" class="ml-2 py-2 px-4 text-lg bg-slate-500 text-white rounded-lg reset-button">Download</a> {% endcomment %}
    </form>
  </div>


  <div class="col-span-3">
    <div>
        {% comment %} {% if query %}
            {% if items %} {% endcomment %}
                {% for faktur in page_obj %}
                    <div>
                        <tbody>
                            <tr>
                                <td><a href="{% url 'faktur:items_faktur' faktur.id_pembeli %}">{{ faktur.nama_pembeli }}</a></td>
                                <td>{{ faktur.alamat_pembeli }}</td>
                            </tr>
                        </tbody>
                    </div>
                {% endfor %}
            {% comment %} {% else %}
                <p>No results found.</p>
            {% endif %}
        {% endif %} {% endcomment %}
    </div>
</div>

<div class="pagination">
  <span class="step-links">
      {% if page_obj.has_previous %}
          <a href="?query={{ request.GET.query|urlencode }}&page=1">&laquo; first</a>
          <a href="?query={{ request.GET.query|urlencode }}&page={{ page_obj.previous_page_number }}">previous</a>
      {% endif %}

      <span class="current">
          Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
      </span>

      {% if page_obj.has_next %}
          <a href="?query={{ request.GET.query|urlencode }}&page={{ page_obj.next_page_number }}">next</a>
          <a href="?query={{ request.GET.query|urlencode }}&page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
      {% endif %}
  </span>
</div>




  {% endblock %}

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const resetButton = document.querySelector('.reset-button');
        const searchInput = document.querySelector('.search-input');

        resetButton.addEventListener('click', function () {
            searchInput.value = '';  // Menghapus nilai dari input pencarian
        });
    });
</script>
